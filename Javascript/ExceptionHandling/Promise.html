<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
         body {
      width: 90%;
      height: 100%;
      display: block;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }
        table {
  margin-left: auto;
  margin-right: auto;
  text-align: center;
}

td,
th {
  border: 2px solid #999;
  padding: 0.5rem;
}
    </style>
</head>
<body>
    <h2>Fetch API Using Promises and GET REQUEST </h2>
  <h3>Fetching Users data from JSON Array and Array Objects into Html Table</h3>
    <table id="users"></table>
<script>
    // function Check(arg)
    // {
    //     return new Promise((resolve,reject)=>{

    //         console.log("please wait for the response")
    //         setTimeout(()=>{
    //             if(arg){
                
    //             let arr = [
    //                 {id:1,name:"a"},
    //                 {id:2,name:"b"},
    //                 {id:3,name:"b"}
    //             ]
    //             resolve(arr)
    //         }
    //         else{
    //             reject("not ok")
    //         }

    //         },2000)
           
    //     })
    // }

    // Check(8).then((result)=>{
    //     console.log(result)
    // }).catch((error)=>{
    //     console.log(error)
    // })


    // Fetch
    // fetch('https://jsonplaceholder.typicode.com/users')
    // .then((response) => {
    //     return response.json()

    // })
    // .then((data)=> {
    //     a(data)
    // })
    // .catch((error)=> {
    //     console.log(error)
    // })

    // function a(data){
    //     console.log(data)
    // }



    fetch("https://jsonplaceholder.typicode.com/users")
  // Converting received data to JSON
  .then((response) => response.json())
  .then((json) => {
    
  // 2. Create a variable to store HTML table headers
    let li = `<tr><th>ID</th><th>Name</th><th>User Name</th><th>Email</th> <th>Phone</th><th>Website</th></tr>`;

    // 3. Loop through each data and add a table row
    json.forEach((user) => {
      li += `<tr>
        <td>${user.id}</td>
        <td>${user.name} </td>
        <td>${user.username}</td>
        <td>${user.email}</td>
        <td>${user.phone}</td>
        <td>${user.website}</td>
      </tr>`;
    });

    // 4. DOM Display result
    document.getElementById("users").innerHTML = li;
  });





// fetch("https://jsonplaceholder.typicode.com/posts", {
//   // 6. Adding method type
//   method: "POST",

//   // 7. Adding body or contents to send JSON Stringify
//   body: JSON.stringify({
    
//     title: "foo",
//     body: "bar",
//     userId: 1,
//   },
//   {
// title: "foo",
//     body: "bar",
//     userId: 2
//   }),

//   // 8. Adding headers to the request
//   headers: {
//     "Content-type": "application/json; charset=UTF-8"
//   }
// })
//   // 9. Converting to JSON
//   .then((response) => response.json())

//   // 10. Displaying results to console
//   .then((json) => console.log(json));





</script>


</body>
</html>